(()=>{"use strict";!function(){let e=new Image;e.onload=e.onerror=function(){1==(2==e.height)?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const e=document.querySelector(".header-menu__icon"),t=document.querySelector(".header-menu__body"),a=document.body,s=document.querySelector(".wrapper"),i=t.querySelectorAll("a"),n=document.querySelector(".header__logo"),r=document.querySelector(".header__button"),o=window.matchMedia("(max-width: 768px)").matches,c=window.matchMedia("(max-width: 500px)").matches;function l(e){const a=Array.from(s.children).filter((e=>!e.contains(t)));e?(a.forEach((e=>{e.inert=!0})),i.forEach((e=>{e.inert=!1})),setTimeout((()=>{i[0]?.focus()}),100)):(a.forEach((e=>{e.inert=!1})),i.forEach((e=>{e.inert=!0})))}o&&i.forEach((e=>{e.inert=!0})),e.addEventListener("click",(()=>{const s="true"===e.getAttribute("aria-expanded"),i=!s;e.classList.toggle("active"),t.classList.toggle("active"),a.classList.toggle("locked"),n.classList.toggle("active"),r.classList.toggle("active"),e.setAttribute("aria-expanded",String(!s)),l(i)})),document.addEventListener("keydown",(s=>{"Escape"===s.key&&t.classList.contains("active")&&(e.classList.toggle("active"),t.classList.toggle("active"),a.classList.toggle("locked"),n.classList.toggle("active"),r.classList.toggle("active"),e.setAttribute("aria-expanded","false"),l(!1),e.focus())}));const d=document.querySelector(".header");if(!c){function p(){window.scrollY>20?d.classList.add("shrunk"):d.classList.remove("shrunk")}d||console.error("Хедер не знайдено! Перевірте селектор."),window.addEventListener("scroll",p)}let h=document.querySelectorAll(".anim-item");if(h.length>0){function f(){h.forEach((e=>{const t=e.offsetHeight,a=u(e).top;let s=window.innerHeight-t/4;t>window.innerHeight&&(s=window.innerHeight-window.innerHeight/4),scrollY>a-s&&scrollY<a+t?e.classList.add("animated"):e.classList.contains("no-reanimation")||e.classList.remove("animated")}))}function u(e){const t=e.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+s,left:t.left+a}}window.addEventListener("scroll",f),setTimeout((()=>{f()}),150)}class m{constructor(e){e.length&&(this.elements=Array.from(e).map((e=>{new m.Each(e,this.options)})))}destroyEvents(){this.elements.forEach((e=>{e.destroyEvents()}))}setEvents(){this.elements.forEach((e=>{e.setEvents()}))}}m.Each=class{constructor(e){this.parent=e,this.elements=this.parent.querySelectorAll("[data-prlx]"),this.animation=this.animationFrame.bind(this),this.offset=0,this.value=0,this.smooth=e.dataset.prlxSmooth?Number(e.dataset.prlxSmooth):15,this.setEvents()}setEvents(){this.animationID=window.requestAnimationFrame(this.animation)}destroyEvents(){window.cancelAnimationFrame(this.animationID)}animationFrame(){const e=this.parent.getBoundingClientRect().top,t=this.parent.offsetHeight,a=window.innerHeight,s=e-a,i=e+t,n=this.parent.dataset.prlxCenter?this.parent.dataset.prlxCenter:"center";if(s<30&&i>-30)if("number"!=typeof parseInt(n,10)||Number.isNaN(parseInt(n,10)))switch(n){case"top":this.offset=-1*e;break;case"center":this.offset=a/2-(e+t/2);break;case"bottom":this.offset=a-(e+t)}else this.offset=-1*e+parseInt(n,10);this.value+=(this.offset-this.value)/this.smooth,this.animationID=window.requestAnimationFrame(this.animation),this.elements.forEach((e=>{const t={axis:e.dataset.axis?e.dataset.axis:"v",direction:e.dataset.direction?e.dataset.direction+"1":"-1",coefficient:e.dataset.coefficient?Number(e.dataset.coefficient):5,additionalProperties:e.dataset.additionalProperties?e.dataset.additionalProperties:""};this.parameters(e,t)}))}parameters(e,t){"v"==t.axis?e.style.transform=`translate3D(0, ${(t.direction*(this.value/t.coefficient)).toFixed(2)}px, 0) ${t.additionalProperties}`:"h"==t.axis&&(e.style.transform=`translate3D(${(t.direction*(this.value/t.coefficient)).toFixed(2)}px, 0, 0) ${t.additionalProperties}`)}},document.querySelectorAll("[data-prlx-parent]")&&new m(document.querySelectorAll("[data-prlx-parent]")),new class{elementsArray=[];daClassname="_dynamic_adapt_";constructor(e){this.type=e}init(){this.elements=[...document.querySelectorAll("[data-da]")],this.elements.forEach((e=>{const t=e.dataset.da.trim();if(""!==t){const a=t.split(","),s={};s.element=e,s.parent=e.parentNode,s.destination=document.querySelector(`.${a[0].trim()}`),s.breakpoint=a[1]?a[1].trim():"767",s.place=a[2]?a[2].trim():"last",s.type=a[3]?a[3].trim():this.type,s.originalIndex=this.indexInParent(s.parent,s.element),s.placeholder=this.createPlaceholder(e),this.elementsArray.push(s)}})),this.arraySort(this.elementsArray),this.mediaArray=[],this.elementsArray.forEach((({breakpoint:e,type:t})=>{const a=`(${t}-width: ${e}px),${e},${t}`;this.mediaArray.some((e=>e===a))||this.mediaArray.push(a)})),this.mediaArray.forEach((e=>{const t=e.split(","),a=window.matchMedia(t[0]),s=t[1],i=t[2],n=this.elementsArray.filter((({breakpoint:e,type:t})=>e===s&&t===i));a.addEventListener("change",(()=>{this.mediaHandler(a,n)})),this.mediaHandler(a,n)}))}createPlaceholder(e){const t=document.createElement("div");return t.style.display="none",t.classList.add(`${this.daClassname}placeholder`),t.setAttribute("data-da-placeholder","true"),e.parentNode.insertBefore(t,e),t}mediaHandler(e,t){e.matches?t.forEach((e=>{e.element.classList.contains(this.daClassname)||this.moveTo(e.place,e.element,e.destination)})):t.forEach((e=>{e.element.classList.contains(this.daClassname)&&this.moveBack(e)}))}moveTo(e,t,a){if(t.classList.add(this.daClassname),"last"===e||e>=a.children.length)return void a.append(t);if("first"===e)return void a.prepend(t);const s=parseInt(e);!isNaN(s)&&a.children[s]?a.children[s].before(t):a.append(t)}moveBack(e){const{element:t,placeholder:a}=e;t.classList.remove(this.daClassname),a&&a.parentNode?a.parentNode.insertBefore(t,a):e.parent.appendChild(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:parseInt(e.place)-parseInt(t.place):parseInt(e.breakpoint)-parseInt(t.breakpoint))):e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:parseInt(t.place)-parseInt(e.place):parseInt(t.breakpoint)-parseInt(e.breakpoint)))}destroy(){this.elementsArray.forEach((e=>{e.element.classList.contains(this.daClassname)&&this.moveBack(e),e.placeholder&&e.placeholder.parentNode&&e.placeholder.parentNode.removeChild(e.placeholder)})),this.elementsArray=[],this.mediaArray=[]}}("max").init()})();
